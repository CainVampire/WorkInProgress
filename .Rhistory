library(dplyr)
N <- c(20:49)
CItable_master <- data.frame(N)
P <- 0.5
RR <- 0.5
CItable_master <- mutate(CItable,
n1 = trunc(N * RR),
CI = ConfInt_n(N, n1, P))
CItable_master <- mutate(CItable_master,
n1 = trunc(N * RR),
CI = ConfInt_n(N, n1, P))
# by n
ConfInt_n <- function(N, n, P){
SD <- sqrt((P * (1 - P)) / n) * sqrt((N - n) / (N - 1))
CInt <- SD * 1.96
}
# by response rate
ConfInt_RR <- function(N, RR, P){
n <- N * RR
SD <- sqrt((P * (1 - P)) / n) * sqrt((N - n) / (N - 1))
CInt <- SD * 1.96
}
N <- c(20:49)
CItable_master <- data.frame(N)
P <- 0.5
RR <- 0.5
# assign the output to a table
CItable_master <- mutate(CItable_master,
n1 = trunc(N * RR),
CI = ConfInt_n(N, n1, P))
CItable_master
CItable_master <- mutate(CItablemaster,
n2 = n2,
CI = ConfInt_n(N, n2, P))
CItable_master
CItable_master <- mutate(CItable_master,
n2 = n2,
CI = ConfInt_n(N, n2, P))
CItable_master
n2 <- 10
# assign the output to a table
CItable_master <- mutate(CItable_master,
n2 = n2,
CI = ConfInt_n(N, n2, P))
CItable_master
P <- 0.5
RR <- 0.5
# assign the output to a table
CItable_master <- mutate(CItable_master,
n1 = trunc(N * RR),
CI1 = ConfInt_n(N, n1, P))
CItable_master
# add by n = 10
n2 <- 10
# assign the output to a table
CItable_master <- mutate(CItable_master,
n2 = n2,
CI2 = ConfInt_n(N, n2, P))
CItable_master
# by n
ConfInt_n <- function(N, n, P){
SD <- sqrt((P * (1 - P)) / n) * sqrt((N - n) / (N - 1))
CInt <- SD * 1.96
}
# by response rate
ConfInt_RR <- function(N, RR, P){
n <- N * RR
SD <- sqrt((P * (1 - P)) / n) * sqrt((N - n) / (N - 1))
CInt <- SD * 1.96
}
library(dplyr)
N <- c(20:49)
CItable_master <- data.frame(N)
P <- 0.5
RR <- 0.5
# assign the output to a table
CItable_master <- mutate(CItable_master,
n1 = trunc(N * RR),
CI1 = ConfInt_n(N, n1, P))
CItable_master
n2 <- 10
# assign the output to a table
CItable_master <- mutate(CItable_master,
n2 = n2,
CI2 = ConfInt_n(N, n2, P))
CItable_master
plot(CItable_master$N, CItable_master$CI1)
ggplot(CItable_master, aes(N)) +
geom_line(aes(y = CI1)) +
geom_line(aes(y = CI2))
library(ggplot2)
ggplot(CItable_master, aes(N)) +
geom_line(aes(y = CI1)) +
geom_line(aes(y = CI2))
ggplot(CItable_master, aes(N)) +
geom_line(aes(y = CI1, colour = black)) +
geom_line(aes(y = CI2, colour = red))
ggplot(CItable_master, aes(N)) +
geom_line(aes(y = CI1, colour = "black")) +
geom_line(aes(y = CI2, colour = "red"))
ggplot(CItable_master, aes(N)) +
geom_line(aes(y = CI1), colour = "red") +
geom_line(aes(y = CI2), colour = "black")
